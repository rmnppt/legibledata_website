<!DOCTYPE html>
<meta charset="utf-8">
<html>
<body>
    <script src="d3.min.js"></script>
    
    <svg width="400" height="400"></svg>

    <script>
        
        // input the starting data (y values)
        var dat = [200, 200, 200, 200]
        // create svg elements
        var svg = d3.select("svg");
        
        // return x positions for the data
        xpos = function(d, i) { return i * 100 + 30; };
        // return random values
        randomPos = function() { return Math.random() * 400; };
        randColVal = function() { return Math.round(Math.random() * 255); };
        randCol = function() { return "rgb(" + randColVal() + ', ' + randColVal() + ', ' + randColVal() + ')'; };
        
        // create the starting circle positions
        svg.selectAll("circle")
            .data(dat)
          .enter().append("circle")
            .style("fill", "rgb(220, 190, 220)")
            .attr("cy", function() { return randomPos(); })
            .attr("cx", function() { return randomPos(); })
            .attr("r", function() { return randomPos()/10; });
        
        // update the circle positions
        function update() {

          // Update selection: Resize and position existing circles
          var selection = d3.selectAll("circle")
              .data(dat).transition().duration(1000)
              .style("fill", function(){ return randCol(); })
              .attr("cy", function(d){ return d + randomPos()/3; })
              .attr("cx", function(d){ return d + randomPos()/3; })
              .attr("r", function(){ return randomPos()/15; });

        };
        
        d3.interval(function() {
          update();
        }, 1000);
        
    </script>
</body>
</html>